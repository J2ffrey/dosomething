
<h1>봉사꾼 Admin page</h1><br>
<button style="background-color: pink;
                color: white;
                border: none;
                width: 14%;
                height: 30px;
                border-radius: 15px;
                margin-left:50px;">
                <a href="/" style="text-align:center; color:white">Main page로 돌아가기</a></button>

<!--봉사 입력창-->

<div id="myModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog">
  	<div class="modal-content">
  		<div class="modal-header">
    		<button type="button" class="close" data-dismiss="modal">×</button>
  			<h3>Modal header</h3>
    	</div>
    	<div class="modal-body">
    		<p>My modal content here…</p>
    	</div>
    	<div class="modal-footer">
    		<button class="btn" data-dismiss="modal">Close</button>
    	</div>
  	</div>
  </div>
</div>




<center>
<form action="/home/bongsa_save" enctype="multipart/form-data" method="POST">
    <div class="table-responsive admin_table">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th class="table_title">#</th>
            <th class="table_content">&nbsp</th>

          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="table_title">메인에 보여지는 사진</td>
            <td class="table_content"><input type="file" name="bongbongimg"></td>
          </tr>
          <tr>
            <td class="table_title"> 포스터 사진</td>
            <td class="table_content"><input type="file" name="fosterimg"></td>
          </tr>
          <tr>
            <td class="table_title">봉사명</td>
            <td class="table_content"><input type="text" name="name" placeholder=" ex) ~봉사" style="width: 86%;"></td>
          </tr>
          <tr>
            <td class="table_title">봉사기관명</td>
            <td class="table_content"><input type="text" name="org_name"></td>
          </tr>
          <tr>
            <td class="table_title">모집인원</td>
            <td class="table_content"><input type="text" name="how_many"></td>
          </tr>
          <tr>           
            <td class="table_title">지역</td>
            <td class="table_content"><input type="text" name="region" placeholder=" ex) 서울 중구"></td>
          </tr>
          <!-- 창우가 추가함 -->
          <tr>           
            <td class="table_title">봉사시간</td>
            <td class="table_content"><input type="text" name="time" placeholder=" ex) 1"></td>
          </tr>
          <!-- 이부분 -->
          <tr>
            <td class="table_title">모집시작일</td>
            <td class="table_content"><input type="date" name="date_mozip_start" placeholder=" ex) 150901"></td>
          </tr>
          <tr>
            <td class="table_title">모집마감일</td>
            <td class="table_content"><input type="date" name="date_mozip_end" placeholder=" ex) 150901"></td>
          </tr>
          <tr>
            <td class="table_title">봉사 시작일</td>
            <td class="table_content"><input type="date" name="date_real_start" placeholder=" ex) 150901"></td>
          </tr>
          <tr>
            <td class="table_title">봉사 종료일</td>
            <td class="table_content"><input type="date" name="date_real_end" placeholder=" ex) 150901"></td>
          </tr>
          <tr>
            <td class="table_title">하루 봉사 시작시각</td>
            <td class="table_content">
              <select name="time_daily_start_hour">
                <% h = 01
                   loop do %>
                      <option><%= h %>시</option>
                   <% h = h+1 
                      break if h > 24 
                   end %>
              </select>
              <select name="time_daily_start_minute">
                <% m = 00
                   loop do %>
                     <option><%= m %>분</option>
                  <% m = m+5
                     break if m >= 60
                   end %>
              </select>
            </td>
          </tr>
          <tr>
            <td class="table_title">하루 봉사 종료시각</td>
            <td class="table_content">
              <select name="time_daily_end_hour">
                <% h = 01
                   loop do %>
                      <option><%= h %>시</option>
                   <% h = h+1 
                      break if h > 24 
                   end %>
              </select>
              <select name="time_daily_end_minute">
                <% m = 00
                   loop do %>
                     <option><%= m %>분</option>
                  <% m = m+5
                     break if m >= 60
                   end %>
              </select>
            </td>
          </tr>
          <tr>
            <td class="table_title">총 획득 예상시간</td>
            <td class="table_content"><input type="text" name="time_expect_total" placeholder=" ex) 90시간 => 90 "></td>
          </tr>
          <tr>
            <td class="table_title">대학교</td>
            <td class="table_content"><input type="text" name="school" placeholder=" ex) OO대학교"></td>
          </tr>
          <tr>
            <td class="table_title">비고</td>
            <td class="table_content"><textarea type="text" name="vltr_req" style="height: 70px; width: 400px;"></textarea></td>
          </tr>
          <tr>
            <td class="table_title">봉사활동 상세내용</td>
            <td class="table_content"><textarea name="content" style="height: 200px; width: 400px;"></textarea></td>
          </tr>
          <tr>
            <td class="table_title">담당자 연락처</td>
            <td class="table_content"><input type="text" name="clerk_call" placeholder=" ex) 010-1234-4567"></td>
          </tr>
          <tr>
            <td class="table_title">정기/비정기</td>
            <td class="table_content">
              <select name="regular">
                <option value="0" selected="selected">미지정</option>
                <option value="1">정기</option>
                <option value="2">비정기</option>
              </select>
            </td>
          </tr>
          <tr>
            <td class="table_title">봉사유형</td>
            <td class="table_content">
              <select name="ctgory">
                <option value="0" selected="selected" >분야 미지정</option>
                <option value="1">교육봉사</option>
                <option value="2">재능봉사</option>
                <option value="3">노력봉사</option>
                <option value="4">해외봉사</option>
                <option value="5">기타봉사</option>
            </select>
            </td>
          </tr>
          <tr>
            <td class="table_title">사전교육 유/무</td>
            <td class="table_content">
              <select name="pre_edu"> 
                <option value="3" selected="selected" >선택안함</option>
                <option value="1">사전교육 있음</option>
                <option value="2">사전교육 없음</option>
            </select>
            </td>
          </tr>
          <tr>
            <td class="table_title">모집현황</td>
            <td class="table_content">
              <select name="status">
                <option value="3" selected="selected" >선택안함</option>
                <option value="0">모집 예정</option>
                <option value="1">모집 중</option>
                <option value="2">모집 종료</option>
            </select>
            </td>
          </tr>
          <tr>
            <td class="table_title">지원가능 성별</td>
            <td class="table_content">
              <select name="vltr_sex">
                  <option value="3" selected="selected" >성별</option>
                  <option value="0">남자</option>
                  <option value="1">여자</option>
                  <option value="2">무관</option>
              </select>
            </td>
          </tr>
                  
          <tr>
            <td class="table_content" style="text-align: right;" colspan="2" >
              <% if user_signed_in? %>
              <input type="hidden" name="input_admin" value="<%= current_user.email %>">
              <% else %>
              <input type="hidden" name="input_admin" value="등록한 관리자가 없습니다.">
              <% end %>
              <input type="submit" value="등록하기">
            </td>
            </tr>
          </tbody>
        </table>
      </div>
</form>
</center>

<!--봉사 입력창-->
          
<style>
  .table_title {width: 29%;}
  .admin_table {width: 600px;}
</style>  

<div class="row" style="height:100px;">
</div>



<!--봉사정보 표-->
   <table class="table table-striped table-hover table-users">
    			<thead>
    				<tr>
    					<th>data_count</th>
    					<th>최근 수정한 관리자</th>
    					<th>봉사명</th>
    					<th>이미지</th>
    					<th>봉사지역</th>
    					<th>봉사유형</th>
    					<th>내용</th>
    					<th>포스터</th>
    					<th>모집시작~종료</th>
    					<th>봉사시작일~종료일</th>
    					<th>하루시작시각~하루종료시각</th>
    					<th>총획득예상시간</th>
    					<th>기관명</th>
    					<th>담당자 연락처</th>
    					<th>인근학교</th>
    					<th>사전교육</th>
    					<th>모집현황</th>
    					<th>나이자격</th>
    					<th>성별자격</th>
    					<th>자격상세</th>
    					<th>수정</th>
    					<th>삭제</th>
    				</tr>
    			</thead>

    			<tbody>
    				<tr>
    				    <% i = 0 %>
                <% @bongsa.each do |b| %>
                <% i += 1 %>
    					<td>
                <%= i %>
    					</td>
    					<td>
    					  <%= b.input_admin %>
    					</td>
    					<td>
    					  <%= b.name %>
    					</td>
    					<td>
    					  <% unless b.bongsa_img==nil? %>
                메인사진 있음
                <% else %>
                메인사진 없음
                <% end %>
    					</td>
    					<td>
    					  <%= b.region %>
    					</td>
              <td><%= b.ctgory %></td>
              <td><%= b.content %></td>
              <td>
                <% unless b.foster_img==nil? %>
                이미지 있음
                <% else %>
                이미지 없음
                <% end %>
              </td>
              <td>
                <%= b.date_mozip_start %> ~ <%= b.date_mozip_end %>
              </td>
              <td>
                <%= b.date_real_start %> ~ <%= b.date_real_end %>
              </td>
              <td>
                <%= b.time_daily_start %> ~ <%= b.time_daily_end %>
              </td>
              <td>
                <%= b.time_expect_total %>
              </td>
              <td><%= b.org_name %></td>
              <td><%= b.clerk_call %></td>
              <td><%= b.school %></td>
              <td><%= b.pre_edu %></td>
              <td><%= b.status %></td>
              <td><%= b.vltr_age %>세 이상</td>
              <td><%= b.vltr_sex %></td>
              <td><%= b.vltr_req %></td>
    					<td><a href="/home/data_modify/<%= b.id %>">[수정]</a></td>
              <td><a href="/home/data_delete/<%= b.id %>">[삭제]</a></td>
          </tr>
          <% end %>
        </tbody>
      </table>
<!--봉사정보 표-->

<br>
<br>
<br>
<br>
<br>
<br>
<br>


<div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-9">
        <% i = 0 %>
        <% @bongsa.each do |b| %>
        <% i += 1 %>
        <p><%=i%>번째 데이터. | 
        최근 수정한 관리자 : <%= b.input_admin %> |
        봉사명:<%= b.name %> | 
        이미지:<% unless b.bongsa_img==nil? %>
        메인 사진 있음 |
        <% else %>
        메인 사진 없음 |
        <% end %>
        봉사지역:<%= b.region %> | 
        봉사type:<%= b.ctgory %> |
        내용:<%= b.content %> |
        포스터:<% unless b.foster_img==nil? %>
        이미지 있음 |
        <% else %>
        이미지 없음 |
        <% end %><br>
        시작:<%= b.date_mozip_start %> ~ 종료:<%= b.date_mozip_end %> |
        기관명:<%= b.org_name %> | 
        담당자:<%= b.clerk %> |
        인근학교:<%= b.school %> |
        사전교육:<%= b.pre_edu %> |
        모집현황:<%= b.status %> |
        나이자격:<%= b.vltr_age %>세 이상 |
        성별자격:<%= b.vltr_sex %> |
        자격상세:<%= b.vltr_req %> |</p>
        <a href="/home/data_delete/<%= b.id %>">[삭제]</a> | 
        <a href="/home/data_modify/<%= b.id %>">[수정]</a>
        <br>
        <center>========================================================================</center>
        <% end %>
    </div>
</div>

<!--달력 임의 구현-->
<!--<pre class="jscript" name="code">  -->
<!--<script src="/Scripts/jquery-1.9.0.js" type="text/javascript"></script>   -->
<!--<script src="/Scripts/jquery-ui-1.10.0.min.js" type="text/javascript"></script>  -->
<!--<script src="/Scripts/jquery.ui.datepicker-ko.js" type="text/javascript"></script>  -->
  
  
<!--<style type="text/css">  -->
<!-- .ui-datepicker{ font-size: 13.2px; width: 293px; height:295px; z-index:100; margin:0px;}  -->
<!--</style>  -->
<script type="text/javascript">
//     var dtNow = new Date();  
// $(document).ready(function () {  
//         // 선택된 값 세팅  
//         EvtChangeMonthYear(dtNow.getFullYear() , dtNow.getMonth());  
//     });  
  
//     $(function ()  
// {  
//         $("#dtpicker").datepicker({  
//             dateFormat: 'yy-mm-dd', // 데이터는 yyyy-MM-dd로 나옴  
//             closeText: '닫기',  
//             prevText: '이전달',  
//             nextText: '다음달',  
//             currentText: '오늘',  
//             monthNames: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],  
//             monthNamesShort: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],  
//             dayNames: ['일', '월', '화', '수', '목', '금', '토'],  
//             dayNamesShort: ['일', '월', '화', '수', '목', '금', '토'],  
//             dayNamesMin: ['일', '월', '화', '수', '목', '금', '토'],  
//             weekHeader: 'Wk',  
//             firstDay: 0,  
//             isRTL: false,  
//             duration: 200,  
//             showAnim: 'show',  
//             maxDate: dtNow,       // 오늘 날자이후 데이터 클릭은 막기위해  
//             changeMonth: true,  
//             changeYear: true,  
//             yearRange: 'c-10:c',  
//             showMonthAfterYear: true,  
//             yearSuffix: '년',  
//             showOtherMonths: true, // 나머지 날짜도 화면에 표시  
//             selectOtherMonths: true, // 나머지 날짜에도 선택을 하려면 true  
//             defaultDate: dtAsk,  
  
//             onChangeMonthYear: function (year, month, inst) {  
//     // 년 또는 월이 변경시 이벤트 발생  
//                 EvtChangeMonthYear(year, month);  
//             },  
  
//             beforeShow: function (input, inst) {  
//     // 일자 선택되기전 이벤트 발생  
//             },  
//             onSelect: function (dateText, inst) {  
//     // 일자 선택된 후 이벤트 발생  
//             }  
//         });  
//         $.datepicker.setDefaults($.datepicker.regional['ko']);  
//     });  
  
      
  
  
//     // 월이나 년이 바뀔때의 이벤트  
//     function EvtChangeMonthYear(Year, Month) {  
//         $(".ui-datepicker-current-day").attr("style", "background-color:#ff0000;");  // 선택된 날자에 테두리를 만든다.  
//   var arrSplit = ($("#dtpicker").val()).split("-");        // 선택된 날자를 배열로 받음  
  
//   var vDt = new Date();  
//         var Day = getStrDay(vDt.getDate());  
//         var dtMin = new Date(Year, Month - 1, 1);  
  
//         dtMin = new Date(Year, Month - 1, 1 - dtMin.getDay());       // 달력의 최초 날자를 구하기 위해  
//         var strMin = dtMin.getFullYear() + "-" + getStrMonth(dtMin.getMonth() + 1) + "-" + getStrDay(dtMin.getDate());  
//         var dtMax = new Date(new Date(Year, Month, 1) - 86400000);  
  
//         var dtMax = new Date(Year, Month - 1, dtMax.getDate() + 6 - dtMax.getDay()); // 달력의 마지막 날자를 구하기 위해  
//         var strMax = dtMax.getFullYear() + "-" + getStrMonth(dtMax.getMonth() + 1) + "-" + getStrDay(dtMax.getDate());  
  
//         var strUrl = "/Lab/NDailyCheck/GetDailyMonthsAjx";  
//         var vLabNo = "@LabNo";  
//         var selCheckGubun = $("#CheckGubunVal").val();  
  
//         $.ajax({  
//             type: 'POST',  
//             async: true,    //비동기  
//             dataType: "json",  
//             url: strUrl,  
//             data: { LabNo: vLabNo, CheckGubun: selCheckGubun, dtMinDay: strMin, dtMaxDay: strMax },  
//             success: function (data) {   // 통신이 성공적으로 이루어졌을 때 이 함수를 타게 된다.  
//                 MathMonths(data, strMin);  
//             },  
//             complete: function (data) {   // 통신이 실패했어도 완료가 되었을 때 이 함수를 타게 된다.  
//             },  
//             error: function (xhr, status, error) {  
//                 alert("통신에러 → " + xhr.responseText + ":" + error);  
//             }  
//         });  
//     }  
  
  
//     function getStrMonth(Month) {  
//         Month = Month + "";  
//         if (Month.length == 1) {  
//             Month = "0" + Month;  
//         }  
//         return Month;  
//     }  
  
//     function getStrDay(Day) {  
//         Day = Day + "";  
//         if (Day.length == 1) {  
//             Day = "0" + Day;  
//         }  
//         return Day;  
//     }  
</script>  
  
<!--<div class="box_Calendar" id="dtpicker">  -->
<!--</div>  -->